# Story 9.1: Configuration File Support

## Status
Done

## Story

**As a** developer automating deployments,
**I want** to use configuration files instead of CLI parameters,
**so that** I can version control my deployment configurations.

## Acceptance Criteria

1. Support JSON configuration files via `--config` flag
2. Support YAML configuration files via `--config` flag
3. Configuration file format is validated on load
4. CLI arguments override config file values
5. Config file supports all deployment options
6. Sample config files are generated via `geusemaker init`
7. Config validation provides helpful error messages
8. Documentation includes config file schema
9. Unit tests achieve 80%+ coverage

## Tasks / Subtasks

- [ ] Task 1: Implement Config File Loading (AC: 1, 2)
  - [ ] Detect file type by extension
  - [ ] Parse JSON configuration
  - [ ] Parse YAML configuration
  - [ ] Convert to DeploymentConfig

- [ ] Task 2: Implement Validation (AC: 3, 7)
  - [ ] Validate against schema
  - [ ] Report all errors at once
  - [ ] Provide line numbers for errors
  - [ ] Suggest corrections

- [ ] Task 3: Implement CLI Override (AC: 4)
  - [ ] Load config file first
  - [ ] Apply CLI arguments over config
  - [ ] Document precedence order

- [ ] Task 4: Define Config Schema (AC: 5, 8)
  - [ ] Document all config options
  - [ ] Include types and defaults
  - [ ] Create JSON Schema

- [ ] Task 5: Implement Init Command (AC: 6)
  - [ ] Generate sample JSON config
  - [ ] Generate sample YAML config
  - [ ] Include comments/documentation

- [ ] Task 6: Create Unit Tests (AC: 9)
  - [ ] Test JSON loading
  - [ ] Test YAML loading
  - [ ] Test CLI override
  - [ ] Test validation
  - [ ] Achieve 80%+ coverage

## Dev Notes

### File Locations
```
geusemaker/
├── config/
│   ├── loader.py
│   └── schema.py
├── cli/
│   └── commands/
│       └── init.py
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-21 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record
- Implemented `ConfigLoader` for JSON/YAML files with env + CLI precedence.
- Added `geusemaker init` to generate sample JSON/YAML configs and JSON Schema.
- Deployment uses validated config with helpful error messaging and overrides.

## QA Results
_To be populated by QA Agent_
