# Story 9.4: Silent Mode and Error-Only Output

## Status
Done

## Story

**As a** CI/CD pipeline operator,
**I want** silent mode that only shows errors,
**so that** logs are clean and errors are easy to find.

## Acceptance Criteria

1. `--silent` flag suppresses all non-error output
2. Progress indicators are hidden in silent mode
3. Only errors and final status are shown
4. Exit code still indicates success/failure
5. `--verbose` provides extra debugging info
6. Verbosity levels: silent < normal < verbose
7. Silent mode works with JSON output
8. Errors include enough context for debugging
9. Unit tests achieve 80%+ coverage

## Tasks / Subtasks

- [ ] Task 1: Implement Silent Flag (AC: 1, 2, 3)
  - [ ] Add --silent/-s flag
  - [ ] Suppress info/progress output
  - [ ] Keep error output

- [ ] Task 2: Implement Verbose Flag (AC: 5)
  - [ ] Add --verbose/-v flag
  - [ ] Show debug information
  - [ ] Show API call details

- [ ] Task 3: Implement Verbosity Levels (AC: 6)
  - [ ] Define levels: SILENT, NORMAL, VERBOSE
  - [ ] Configure console output by level
  - [ ] Store in context

- [ ] Task 4: Ensure Exit Codes (AC: 4)
  - [ ] Silent mode still returns exit codes
  - [ ] Test exit codes in silent mode

- [ ] Task 5: Combine with JSON (AC: 7)
  - [ ] --silent --output json works
  - [ ] Only JSON output shown
  - [ ] Errors in JSON format

- [ ] Task 6: Enhance Error Context (AC: 8)
  - [ ] Include operation context in errors
  - [ ] Include resource IDs in errors
  - [ ] Include timestamps

- [ ] Task 7: Create Unit Tests (AC: 9)
  - [ ] Test silent mode suppression
  - [ ] Test verbose mode output
  - [ ] Test exit codes
  - [ ] Achieve 80%+ coverage

## Dev Notes

### Usage Examples
```bash
# Silent mode - errors only
geusemaker deploy --config prod.yaml --silent

# Verbose mode - debug info
geusemaker deploy --config prod.yaml --verbose

# Silent + JSON for CI/CD
geusemaker deploy --config prod.yaml --silent --output json
```

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-01-21 | 1.0 | Initial story creation | Bob (Scrum Master) |

## Dev Agent Record
- Added global `--silent/--verbose` flags with verbosity-aware console filtering.
- Ensured machine-readable output remains when silent; errors still emitted.
- Added tests to verify silent mode keeps JSON-only output.

## QA Results
_To be populated by QA Agent_
