# GeuseMaker Architecture Document

## Table of Contents

- [GeuseMaker Architecture Document](#table-of-contents)
  - [1. Introduction](./1-introduction.md)
    - [1.1 Starter Template or Existing Project](./1-introduction.md#11-starter-template-or-existing-project)
    - [1.2 Change Log](./1-introduction.md#12-change-log)
  - [2. High Level Architecture](./2-high-level-architecture.md)
    - [Design Philosophy: UI-First Rewarding Experience](./2-high-level-architecture.md#design-philosophy-ui-first-rewarding-experience)
    - [2.1 Mandatory Architecture Decisions](./2-high-level-architecture.md#21-mandatory-architecture-decisions)
    - [2.2 Technical Summary](./2-high-level-architecture.md#22-technical-summary)
    - [2.3 High Level Overview](./2-high-level-architecture.md#23-high-level-overview)
    - [2.4 High Level Project Diagram](./2-high-level-architecture.md#24-high-level-project-diagram)
    - [2.5 Architectural and Design Patterns](./2-high-level-architecture.md#25-architectural-and-design-patterns)
  - [3. Tech Stack](./3-tech-stack.md)
    - [3.1 Cloud Infrastructure](./3-tech-stack.md#31-cloud-infrastructure)
    - [3.2 Technology Stack Table](./3-tech-stack.md#32-technology-stack-table)
    - [3.3 AI Stack Services (Deployed on EC2)](./3-tech-stack.md#33-ai-stack-services-deployed-on-ec2)
    - [3.4 Development Tools](./3-tech-stack.md#34-development-tools)
  - [4. Data Models](./4-data-models.md)
    - [4.1 DeploymentConfig](./4-data-models.md#41-deploymentconfig)
    - [4.2 DeploymentState](./4-data-models.md#42-deploymentstate)
    - [4.3 ServiceHealth](./4-data-models.md#43-servicehealth)
    - [4.4 AWSResourceSpec (Discriminated Union)](./4-data-models.md#44-awsresourcespec-discriminated-union)
    - [4.5 Entity Relationship Diagram](./4-data-models.md#45-entity-relationship-diagram)
    - [4.6 Rollback Strategy](./4-data-models.md#46-rollback-strategy)
  - [5. Components](./5-components.md)
    - [5.1 CLI Layer](./5-components.md#51-cli-layer)
      - [5.1.1 ASCII Art & Branding ()](./5-components.md#511-ascii-art-branding)
      - [5.1.2 Main Entry Point ()](./5-components.md#512-main-entry-point)
      - [5.1.3 Rich UI Components ()](./5-components.md#513-rich-ui-components)
    - [5.2 Orchestration Layer](./5-components.md#52-orchestration-layer)
    - [5.3 Service Layer](./5-components.md#53-service-layer)
    - [5.4 Infrastructure Layer](./5-components.md#54-infrastructure-layer)
      - [5.4.1 Components](./5-components.md#541-components)
    - [5.5 Component Dependency Diagram](./5-components.md#55-component-dependency-diagram)
  - [6. External APIs](./6-external-apis.md)
    - [6.1 AWS APIs (via Boto3)](./6-external-apis.md#61-aws-apis-via-boto3)
      - [6.1.1 EC2 API](./6-external-apis.md#611-ec2-api)
      - [6.1.2 EFS API](./6-external-apis.md#612-efs-api)
      - [6.1.3 VPC API](./6-external-apis.md#613-vpc-api)
      - [6.1.4 ELBv2 API (ALB)](./6-external-apis.md#614-elbv2-api-alb)
      - [6.1.5 CloudFront API](./6-external-apis.md#615-cloudfront-api)
      - [6.1.6 SSM API (Systems Manager)](./6-external-apis.md#616-ssm-api-systems-manager)
      - [6.1.7 Pricing API](./6-external-apis.md#617-pricing-api)
    - [6.2 Health Check Endpoints](./6-external-apis.md#62-health-check-endpoints)
    - [6.3 External Service Dependencies](./6-external-apis.md#63-external-service-dependencies)
    - [6.4 API Error Handling](./6-external-apis.md#64-api-error-handling)
    - [6.5 API Rate Limiting Strategy](./6-external-apis.md#65-api-rate-limiting-strategy)
  - [7. Core Workflows](./7-core-workflows.md)
    - [7.1 Deployment Workflow](./7-core-workflows.md#71-deployment-workflow)
    - [7.2 Interactive Deployment Flow](./7-core-workflows.md#72-interactive-deployment-flow)
    - [7.3 Destruction Workflow](./7-core-workflows.md#73-destruction-workflow)
    - [7.4 Rollback Workflow](./7-core-workflows.md#74-rollback-workflow)
    - [7.5 Health Monitoring Workflow](./7-core-workflows.md#75-health-monitoring-workflow)
      - [7.5.1 Alerting Thresholds](./7-core-workflows.md#751-alerting-thresholds)
    - [7.6 Spot Interruption Handling](./7-core-workflows.md#76-spot-interruption-handling)
    - [7.7 Cost Tracking Workflow](./7-core-workflows.md#77-cost-tracking-workflow)
    - [7.8 Workflow State Machine](./7-core-workflows.md#78-workflow-state-machine)
  - [8. Database Schema (JSON State Files)](./8-database-schema-json-state-files.md)
    - [8.1 State Storage Location](./8-database-schema-json-state-files.md#81-state-storage-location)
    - [8.2 Deployment State Schema](./8-database-schema-json-state-files.md#82-deployment-state-schema)
    - [8.3 Example Deployment State](./8-database-schema-json-state-files.md#83-example-deployment-state)
    - [8.4 Settings Schema](./8-database-schema-json-state-files.md#84-settings-schema)
    - [8.5 Cache Schema](./8-database-schema-json-state-files.md#85-cache-schema)
    - [8.6 State Operations](./8-database-schema-json-state-files.md#86-state-operations)
    - [8.7 State Validation](./8-database-schema-json-state-files.md#87-state-validation)
  - [9. Source Tree](./9-source-tree.md)
    - [9.1 Key Files Explained](./9-source-tree.md#91-key-files-explained)
    - [9.2 Import Structure](./9-source-tree.md#92-import-structure)
  - [10. Infrastructure and Deployment](./10-infrastructure-and-deployment.md)
    - [10.1 Infrastructure as Code](./10-infrastructure-and-deployment.md#101-infrastructure-as-code)
    - [10.2 Package Deployment Strategy](./10-infrastructure-and-deployment.md#102-package-deployment-strategy)
    - [10.3 CI/CD Pipeline](./10-infrastructure-and-deployment.md#103-cicd-pipeline)
    - [10.4 Environments](./10-infrastructure-and-deployment.md#104-environments)
    - [10.5 Environment Promotion Flow](./10-infrastructure-and-deployment.md#105-environment-promotion-flow)
    - [10.6 Rollback Strategy](./10-infrastructure-and-deployment.md#106-rollback-strategy)
    - [10.7 Version Strategy](./10-infrastructure-and-deployment.md#107-version-strategy)
  - [11. Error Handling Strategy](./11-error-handling-strategy.md)
    - [11.1 General Approach](./11-error-handling-strategy.md#111-general-approach)
    - [11.2 Exception Hierarchy](./11-error-handling-strategy.md#112-exception-hierarchy)
    - [11.3 Logging Standards](./11-error-handling-strategy.md#113-logging-standards)
    - [11.4 Required Log Context](./11-error-handling-strategy.md#114-required-log-context)
    - [11.5 Error Handling Patterns](./11-error-handling-strategy.md#115-error-handling-patterns)
      - [11.5.1 AWS API Errors](./11-error-handling-strategy.md#1151-aws-api-errors)
      - [11.5.1.1 PricingService with Fallback and Cache](./11-error-handling-strategy.md#11511-pricingservice-with-fallback-and-cache)
      - [11.5.2 Business Logic Errors](./11-error-handling-strategy.md#1152-business-logic-errors)
      - [11.5.3 Data Consistency](./11-error-handling-strategy.md#1153-data-consistency)
    - [11.6 Idempotency](./11-error-handling-strategy.md#116-idempotency)
  - [12. Coding Standards](./12-coding-standards.md)
    - [12.1 Core Standards](./12-coding-standards.md#121-core-standards)
    - [12.2 Naming Conventions](./12-coding-standards.md#122-naming-conventions)
    - [12.3 Critical Rules](./12-coding-standards.md#123-critical-rules)
    - [12.4 Python Specifics](./12-coding-standards.md#124-python-specifics)
    - [12.5 Docstring Standard](./12-coding-standards.md#125-docstring-standard)
  - [13. Test Strategy and Standards](./13-test-strategy-and-standards.md)
    - [13.1 Testing Philosophy](./13-test-strategy-and-standards.md#131-testing-philosophy)
    - [13.2 Test Types and Organization](./13-test-strategy-and-standards.md#132-test-types-and-organization)
      - [13.2.1 Unit Tests](./13-test-strategy-and-standards.md#1321-unit-tests)
      - [13.2.1.1 Complete Test File Template](./13-test-strategy-and-standards.md#13211-complete-test-file-template)
      - [13.2.2 Integration Tests](./13-test-strategy-and-standards.md#1322-integration-tests)
      - [13.2.3 End-to-End Tests](./13-test-strategy-and-standards.md#1323-end-to-end-tests)
    - [13.3 Test Data Management](./13-test-strategy-and-standards.md#133-test-data-management)
    - [13.4 Continuous Testing](./13-test-strategy-and-standards.md#134-continuous-testing)
    - [13.5 Test Coverage Requirements](./13-test-strategy-and-standards.md#135-test-coverage-requirements)
  - [14. Security](./14-security.md)
    - [14.1 Input Validation](./14-security.md#141-input-validation)
    - [14.2 Authentication & Authorization](./14-security.md#142-authentication-authorization)
    - [14.3 Secrets Management](./14-security.md#143-secrets-management)
    - [14.4 API Security](./14-security.md#144-api-security)
    - [14.5 Data Protection](./14-security.md#145-data-protection)
    - [14.6 Dependency Security](./14-security.md#146-dependency-security)
    - [14.7 Security Testing](./14-security.md#147-security-testing)
  - [15. Checklist Results Report](./15-checklist-results-report.md)
    - [Executive Summary](./15-checklist-results-report.md#executive-summary)
    - [Section Analysis](./15-checklist-results-report.md#section-analysis)
    - [Risk Assessment](./15-checklist-results-report.md#risk-assessment)
      - [Top 5 Risks by Severity](./15-checklist-results-report.md#top-5-risks-by-severity)
    - [Detailed Validation Results](./15-checklist-results-report.md#detailed-validation-results)
      - [1. Requirements Alignment ✅](./15-checklist-results-report.md#1-requirements-alignment)
      - [2. Architecture Fundamentals ✅](./15-checklist-results-report.md#2-architecture-fundamentals)
      - [3. Technical Stack & Decisions ✅](./15-checklist-results-report.md#3-technical-stack-decisions)
      - [4. Frontend Architecture ⏭️ SKIPPED](./15-checklist-results-report.md#4-frontend-architecture-skipped)
      - [5. Resilience & Operational Readiness ✅](./15-checklist-results-report.md#5-resilience-operational-readiness)
      - [6. Security & Compliance ✅](./15-checklist-results-report.md#6-security-compliance)
      - [7. Implementation Guidance ✅](./15-checklist-results-report.md#7-implementation-guidance)
      - [8. Dependencies & Integration ✅](./15-checklist-results-report.md#8-dependencies-integration)
      - [9. AI Agent Implementation Suitability ✅](./15-checklist-results-report.md#9-ai-agent-implementation-suitability)
      - [10. Accessibility ⏭️ SKIPPED](./15-checklist-results-report.md#10-accessibility-skipped)
    - [Recommendations](./15-checklist-results-report.md#recommendations)
      - [Must-Fix Before Development (0 items)](./15-checklist-results-report.md#must-fix-before-development-0-items)
      - [Should-Fix for Better Quality (3 items) ✅ RESOLVED](./15-checklist-results-report.md#should-fix-for-better-quality-3-items-resolved)
      - [Nice-to-Have Improvements (2 items) ✅ RESOLVED](./15-checklist-results-report.md#nice-to-have-improvements-2-items-resolved)
    - [AI Implementation Readiness](./15-checklist-results-report.md#ai-implementation-readiness)
    - [Conclusion](./15-checklist-results-report.md#conclusion)
  - [16. Next Steps](./16-next-steps.md)
    - [16.1 Implementation Order](./16-next-steps.md#161-implementation-order)
    - [16.2 Development Commands](./16-next-steps.md#162-development-commands)
    - [16.3 Key Success Metrics](./16-next-steps.md#163-key-success-metrics)
